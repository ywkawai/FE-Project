%-------------------------------------------------------------------------------
\section{Compilation of programs with post-processing } \label{sec:compile_post}
%-------------------------------------------------------------------------------

\regridTool is a post-processing tool for the \scalenetcdf file generated by the \scalelib library.
The output file of \scaledg is divided and stored in every computational node.
\regridTool reads the output files (history file, \verb|history.******.nc|) and
interpolate it to DG meshes with arbitrary the number of elements and polynomial order. 
The interpolated data is output to new files.
The details of how to use is explained in Section \ref{sec:regrid_tool}.

\regridTool uses \verb|libScaleFECore.a.a|, generated at the time of compilation of \scaledg.
This library is located under the \texttt{FE-Project-{\version}/lib} directory.
To compile \regridTool, execute the following command after the compilation of \scaledg:
%
\begin{alltt}
  $  cd FE-Project-{\version}/model/atm_nonhydro3d/util/regrid_tool/
  $  make
\end{alltt}
If the compilation is succeeded, 
the executable binary file is generated under the \texttt{FE-Project-{\version}/bin} directory.


The execution of \regridTool is as follows:
%
\begin{alltt}
  $  mpirun -n 2 ./regrid_tool regrid.conf
\end{alltt}
%
In this example, \regridTool is executed with two MPI processes by using ``mpirun'' command.
The last argument is the configuration file for \regridTool.

